(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{347:function(t,e,r){},398:function(t,e,r){"use strict";var n=r(347);r.n(n).a},415:function(t,e,r){"use strict";r.r(e);var n=r(0),o=(r(8),r(28),r(4)),l=r(9),c={middleware:"auth",data:function(){return{success:!1,password:"",password1:"",error:!1}},methods:{updateName:function(t){this.$store.commit("user/setName",t.target.value)},updateLast:function(t){this.$store.commit("user/setLastName",t.target.value)},updateSecond:function(t){this.$store.commit("user/setSecondName",t.target.value)},updateEmail:function(t){this.$store.commit("user/setEmail",t.target.value)},updatePhone:function(t){this.$store.commit("user/setPhone",t.target.value)},resetUser:function(){this.$store.dispatch("user/STATE"),this.error=!1},saveUser:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("user/UPDATE",{name:this.name,last_name:this.last_name,second_name:this.second_name,email:this.email,phone:this.phone,password:this.password,password1:this.password1});case 2:"OK"==(e=t.sent).status?this.success=!0:"ERROR"==e.status&&(this.error=e.msg);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},computed:Object(n.a)({},Object(l.b)({name:"user/getName",last_name:"user/getLastName",second_name:"user/getSecondName",email:"user/getEmail",phone:"user/getPhone",update:"user/getUpdateDate",active:"user/getLoginDate"}))},d=(r(398),r(5)),component=Object(d.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"content-header"},[r("div",{staticClass:"main-container"},[r("h2",[t._v("Профиль пользователя")]),t._v(" "),r("ul",{staticClass:"breadcrumbs"},[r("li",[r("nuxt-link",{attrs:{to:"/"}},[t._v("Главная")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/personal"}},[t._v("Мой кабинет")])],1)])])]),t._v(" "),r("div",{staticClass:"user-profile main-container custom-page"},[t.error?r("div",{staticClass:"alert-danger order-error mb-1",domProps:{innerHTML:t._s(t.error)}}):t._e(),t._v(" "),t.success?r("p",{staticClass:"user-profile__saved"},[t._v("Изменения сохранены")]):t._e(),t._v(" "),r("p",{staticClass:"mb-0"},[t._v("Дата обновления: "+t._s(t.update))]),t._v(" "),r("p",[t._v("Последняя авторизация: "+t._s(t.active))]),t._v(" "),r("form",[r("div",{staticClass:"user-profile__columns mb-3"},[r("label",{staticClass:"textfield"},[r("span",[t._v("Имя:")]),t._v(" "),r("input",{attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){return t.updateName(e)}}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("Фамилия:")]),t._v(" "),r("input",{attrs:{type:"text"},domProps:{value:t.last_name},on:{input:t.updateLast}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("Отчество:")]),t._v(" "),r("input",{attrs:{type:"text"},domProps:{value:t.second_name},on:{input:t.updateSecond}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("E-Mail:")]),t._v(" "),r("input",{attrs:{type:"email"},domProps:{value:t.email},on:{input:t.updateEmail}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("Телефон:")]),t._v(" "),r("input",{attrs:{type:"tel"},domProps:{value:t.phone},on:{input:t.updatePhone}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("Новый пароль:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),r("label",{staticClass:"textfield"},[r("span",[t._v("Подтверждение нового пароля:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],attrs:{type:"password"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}}),t._v(" "),r("p",{staticClass:"mb-0 mt-1",staticStyle:{"font-size":"12px"}},[t._v("Пароль должен быть не менее 6 символов длиной.")])])]),t._v(" "),r("button",{staticClass:"button black",attrs:{type:"button"},on:{click:t.saveUser}},[t._v("Сохранить")]),t._v(" "),r("button",{staticClass:"button black",attrs:{type:"reset"},on:{click:t.resetUser}},[t._v("Отмена")])])])])},[],!1,null,null,null);e.default=component.exports}}]);