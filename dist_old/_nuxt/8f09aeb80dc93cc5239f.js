(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{323:function(t,e,n){"use strict";n(95),n(127);var l=n(0),r=(n(6),{ul:"pagination",li:"pagination-item",liActive:"pagination-item--active",liDisable:"pagination-item--disable",button:"pagination-link",buttonActive:"pagination-link--active",buttonDisable:"pagination-link--disable"}),o={first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"},c={props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},classes:{type:Object,required:!1,default:function(){return{}}},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationClasses:Object(l.a)({},r,this.classes),paginationLabels:Object(l.a)({},o,this.labels)}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{items:function(){for(var t=this.value>1?this.value-1:1,e=this.value<this.pageCount?this.value+1:this.pageCount,n=3===t?2:null,l=e===this.pageCount-2?this.pageCount-1:null,r=t>3?2:null,o=e<this.pageCount-2?this.pageCount-1:null,output=[],i=1;i<=this.pageCount;i+=1)[1,this.pageCount,this.value,t,e,n,l,r,o].includes(i)&&output.push({label:i,active:this.value===i,disable:[r,o].includes(i)});return output},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(t){this.$emit("input",t)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)}}},v=n(5),component=Object(v.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pageCount>1?n("ul",{class:t.paginationClasses.ul},[t.paginationLabels.prev?n("li",{class:t.paginationClasses.li+" "+(t.hasFirst?t.paginationClasses.liDisable:"")},[n("button",{staticClass:"arrow-prev",class:t.paginationClasses.button+" "+(t.hasFirst?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.prev)},on:{click:t.prev}})]):t._e(),t._v(" "),t._l(t.items,function(e){return n("li",{key:e.label,class:t.paginationClasses.li+" "+(e.active?t.paginationClasses.liActive:"")+" "+(e.disable?t.paginationClasses.liDisable:"")},[e.disable?n("span",{class:t.paginationClasses.button+" "+t.paginationClasses.buttonDisable},[t._v("\n      ...\n    ")]):n("button",{class:t.paginationClasses.button+" "+(e.active?t.paginationClasses.buttonActive:""),on:{click:function(n){return t.goto(e.label)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])])}),t._v(" "),t.paginationLabels.next?n("li",{class:t.paginationClasses.li+" "+(t.hasLast?t.paginationClasses.liDisable:"")},[n("button",{staticClass:"arrow-next",class:t.paginationClasses.button+" "+(t.hasLast?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.next)},on:{click:t.next}})]):t._e()],2):t._e()},[],!1,null,null,null);e.a=component.exports},355:function(t,e,n){"use strict";var l={props:["item"]},r=n(5),component=Object(r.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-preview"},[t.item.code?n("nuxt-link",{staticClass:"news-preview__top-link",attrs:{to:{path:"/news/"+t.item.code}}},[n("div",{staticClass:"news-preview__img"},[n("img",{attrs:{src:t.item.src,alt:""}})]),t._v(" "),n("b",[t._v(t._s(t.item.name))])]):t._e(),t._v(" "),n("div",{staticClass:"news-preview__stats"},[t.item.date?n("span",{staticClass:"news-preview__stat"},[n("svg",{attrs:{width:"12",height:"12"}},[n("use",{attrs:{href:"#svg-calendar"}})]),t._v("\n            "+t._s(t.item.date)+"\n        ")]):t._e(),t._v(" "),t.item.properties.BLOG_COMMENTS_CNT.value?n("span",{staticClass:"news-preview__stat"},[n("svg",{attrs:{width:"12",height:"12"}},[n("use",{attrs:{href:"#svg-comment"}})]),t._v("\n            "+t._s(t.item.properties.BLOG_COMMENTS_CNT.value)+"\n        ")]):t._e()]),t._v(" "),n("p",[t._v(t._s(t.item.description))]),t._v(" "),t.item.code?n("nuxt-link",{staticClass:"news-preview__read-more",attrs:{to:{path:"/news/"+t.item.code}}},[t._v("\n        Читать далее\n        "),n("svg",{attrs:{width:"15",height:"8"}},[n("use",{attrs:{href:"#svg-arrow-right"}})])]):t._e()],1)},[],!1,null,null,null);e.a=component.exports},421:function(t,e,n){"use strict";n.r(e);n(8),n(28);var l=n(4),r=n(323),o=n(355),c={asyncData:function(){var t=Object(l.a)(regeneratorRuntime.mark(function t(e){var n,l,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,l=e.error,r=e.params,t.next=3,n.dispatch("catalog/LOAD_NEWS",{params:r});case 3:return(o=t.sent).hasOwnProperty("error")&&l({statusCode:o.statusCode,message:o.error.message}),t.abrupt("return",{items:o.items,pagen_count:o.pagen_count,pagen:o.pagen});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),methods:{onChangePagen:function(){this.$router.push({name:this.$route.name,params:{pagen:this.pagen}})}},data:function(){return{paginationClasses:{ul:"pagination",li:"pagination__li",liActive:"active",liDisable:"disabled",button:"pagination__btn"},customLabels:{first:"First",prev:"Previous",next:"Next",last:"Last"}}},components:{NewsPreview:o.a,Pagination:r.a}},v=n(5),component=Object(v.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("div",{staticClass:"main-container"},[n("h2",[t._v("Блог")]),t._v(" "),n("ul",{staticClass:"breadcrumbs"},[n("li",[n("nuxt-link",{attrs:{to:"/"}},[t._v("Главная")])],1)])])]),t._v(" "),n("div",{staticClass:"main-container"},[n("div",{staticClass:"news"},t._l(t.items,function(t,e){return n("div",{key:e,staticClass:"news__block"},[n("news-preview",{attrs:{item:t}})],1)}),0),t._v(" "),n("pagination",{staticClass:"d-flex justify-content-center flex-wrap",attrs:{"page-count":t.pagen_count,classes:t.paginationClasses,labels:t.customLabels},on:{change:t.onChangePagen},model:{value:t.pagen,callback:function(e){t.pagen=e},expression:"pagen"}})],1)])},[],!1,null,null,null);e.default=component.exports}}]);