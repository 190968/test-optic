(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{322:function(t,e,r){"use strict";var l=r(328),n=(r(9),{props:{breakpoints:{},items:"",elements:{}},data:function(){return{itemCategory:"newItems",swiperOption:{roundLengths:!0,speed:500,loop:!1,slidesPerView:"auto",spaceBetween:0,pagination:{el:".item-slider .s-pagination",bulletClass:"s-pagination__bullet",bulletActiveClass:"s-pagination__bullet--active",clickableClass:"s-pagination--clickable",clickable:!0},navigation:{disabledClass:"disabled"},breakpoints:this.$props.breakpoints},categoriesOption:{roundLengths:!0,speed:500,loop:!1,slidesPerView:"auto",spaceBetween:0,freeMode:!0},bestsellers:JSON.parse(JSON.stringify(this.$store.state.catalog.bestsellers)),newItems:JSON.parse(JSON.stringify(this.$store.state.catalog.newItems))}},components:{Item:l.a},computed:{returnItems:function(){return this.elements?this.elements:"recommended"==this.items?this.bestsellers:"bestsellers"==this.itemCategory?this.bestsellers:"newItems"==this.itemCategory?this.newItems:(this.itemCategory,this.bestsellers)}},methods:{next:function(){this.mySwiper.slideNext()},prev:function(){this.mySwiper.slidePrev()}}}),o=r(5),component=Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.returnItems?r("div",{staticClass:"item-slider"},[r("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiperC",value:t.categoriesOption,expression:"categoriesOption",arg:"mySwiperC"}],staticClass:"item-slider__categories"},["recommended"==t.items?r("div",[r("p",{staticClass:"simple active"},[t._t("default",[t._v("Рекомендуем вам")])],2)]):r("div",{staticClass:"swiper-wrapper"},[r("p",{staticClass:"swiper-slide",class:{active:"newItems"==t.itemCategory},on:{click:function(e){t.itemCategory="newItems"}}},[t._v("Новинки")]),t._v(" "),r("p",{staticClass:"swiper-slide",class:{active:"bestsellers"==t.itemCategory},on:{click:function(e){t.itemCategory="bestsellers"}}},[t._v("Бестселлеры")]),t._v(" "),"mostWanted"===t.itemCategory&&t.returnItems?r("p",{staticClass:"swiper-slide",class:{active:"mostWanted"==t.itemCategory},on:{click:function(e){t.itemCategory="mostWanted"}}},[t._v("Самое желанное")]):t._e()]),t._v(" "),r("div",{staticClass:"item-slider__controls"},[r("button",{staticClass:"item-slider__prev",on:{click:function(e){return t.prev()}}},[t._v("Назад")]),t._v(" "),r("button",{staticClass:"item-slider__next",on:{click:function(e){return t.next()}}},[t._v("Вперёд")])])]),t._v(" "),r("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}],staticClass:"item-slider__items"},[r("div",{staticClass:"swiper-wrapper"},t._l(t.returnItems,function(t,e){return r("item",{key:e,attrs:{item:t}})}),1)])]):t._e()},[],!1,null,null,null);e.a=component.exports},323:function(t,e,r){"use strict";r(95),r(127);var l=r(0),n=(r(6),{ul:"pagination",li:"pagination-item",liActive:"pagination-item--active",liDisable:"pagination-item--disable",button:"pagination-link",buttonActive:"pagination-link--active",buttonDisable:"pagination-link--disable"}),o={first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"},c={props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},classes:{type:Object,required:!1,default:function(){return{}}},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationClasses:Object(l.a)({},n,this.classes),paginationLabels:Object(l.a)({},o,this.labels)}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{items:function(){for(var t=this.value>1?this.value-1:1,e=this.value<this.pageCount?this.value+1:this.pageCount,r=3===t?2:null,l=e===this.pageCount-2?this.pageCount-1:null,n=t>3?2:null,o=e<this.pageCount-2?this.pageCount-1:null,output=[],i=1;i<=this.pageCount;i+=1)[1,this.pageCount,this.value,t,e,r,l,n,o].includes(i)&&output.push({label:i,active:this.value===i,disable:[n,o].includes(i)});return output},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(t){this.$emit("input",t)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)}}},f=r(5),component=Object(f.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pageCount>1?r("ul",{class:t.paginationClasses.ul},[t.paginationLabels.prev?r("li",{class:t.paginationClasses.li+" "+(t.hasFirst?t.paginationClasses.liDisable:"")},[r("button",{staticClass:"arrow-prev",class:t.paginationClasses.button+" "+(t.hasFirst?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.prev)},on:{click:t.prev}})]):t._e(),t._v(" "),t._l(t.items,function(e){return r("li",{key:e.label,class:t.paginationClasses.li+" "+(e.active?t.paginationClasses.liActive:"")+" "+(e.disable?t.paginationClasses.liDisable:"")},[e.disable?r("span",{class:t.paginationClasses.button+" "+t.paginationClasses.buttonDisable},[t._v("\n      ...\n    ")]):r("button",{class:t.paginationClasses.button+" "+(e.active?t.paginationClasses.buttonActive:""),on:{click:function(r){return t.goto(e.label)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])])}),t._v(" "),t.paginationLabels.next?r("li",{class:t.paginationClasses.li+" "+(t.hasLast?t.paginationClasses.liDisable:"")},[r("button",{staticClass:"arrow-next",class:t.paginationClasses.button+" "+(t.hasLast?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.next)},on:{click:t.next}})]):t._e()],2):t._e()},[],!1,null,null,null);e.a=component.exports},335:function(t,e,r){},352:function(t,e,r){"use strict";var l={name:"SectionElements",props:["items","wideItem"],components:{Item:r(328).a}},n=r(5),component=Object(n.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"items"},t._l(t.items,function(e,l){return r("item",{key:l,attrs:{item:e,wideItem:t.wideItem}})}),1)])},[],!1,null,null,null);e.a=component.exports},363:function(t,e,r){"use strict";var l=r(335);r.n(l).a},403:function(t,e,r){"use strict";r.r(e);r(28);var l=r(4),n=(r(8),r(0)),o=r(128),c={props:["tags"],data:function(){return{active:!1,item:0}},methods:{dropdown:function(){var t=this.$refs.tags.getElementsByClassName("tags__tag");this.active=!this.active;for(var i=0;i<t.length;i++)this.active?t[i].style.display="inline-block":i>this.item&&(t[i].style.display="none")},tagsResize:function(){for(var t=this.$refs.tags.getElementsByClassName("tags__tag"),e=this.$refs.tags.offsetWidth-65,r=0,l=window.innerWidth,i=0;i<t.length;i++)t[i].style.display="inline-block",(r+=t[i].offsetWidth)>e?l<=768&&(t[i].style.display="none"):this.item=i}},mounted:function(){var t=this;this.tagsResize(),window.onresize=function(e){t.tagsResize()}},destroyed:function(){window.onresize=null}},f=r(5),h=Object(f.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"tags",staticClass:"tags",class:{active:t.active}},[t._l(t.tags,function(e,l){return r("div",{key:l,staticClass:"tags__tag"},[r("nuxt-link",{class:{active:t.$route.path==e.URL},attrs:{to:e.URL}},[t._v(t._s(e.TITLE))])],1)}),t._v(" "),r("span",{staticClass:"arrow",on:{click:function(e){return t.dropdown()}}})],2)},[],!1,null,null,null).exports,m=(r(31),r(10),r(362)),d=r.n(m),v={methods:{clear:function(){this.$router.push({name:"filter",params:{filter:["clear"]}})}}},_=Object(f.a)(v,function(){var t=this.$createElement;return(this._self._c||t)("button",{attrs:{type:"button"},on:{click:this.clear}},[this._v("Сбросить")])},[],!1,null,null,null).exports,x=r(9),S={name:"SmartFilter",components:{VueSlider:d.a,ClearFilter:_},props:{items:Object},data:function(){return{timer:null,showFilter:!1}},computed:Object(n.a)({},Object(x.b)({sections:"catalog/getSections"}),{minPrice:function(){return this.items.base.values.array[0].toLocaleString("ru-RU")},maxPrice:function(){return this.items.base.values.array[1].toLocaleString("ru-RU")}}),methods:{reload:function(){console.log("reload");var t,e={},r=[];for(var l in this.items)if(this.items[l].price){var n="price-",o=!1;this.items[l].values.min!==this.items[l].values.array[0]&&(n+=this.items[l].code+"-from-"+this.items[l].values.array[0],o=!0),this.items[l].values.max!==this.items[l].values.array[1]&&(n+="base-to-"+this.items[l].values.array[1],o=!0),o&&r.push(n)}else{for(var c in t=[],this.items[l].values)this.items[l].values[c].checked&&t.push(this.items[l].values[c].value);e[this.items[l].code]=t}for(var f in e)e[f].length>0&&r.push(f+"-is-"+e[f].join("-or-"));r.length>0?this.$router.push({name:"filter",params:{filter:r},query:this.$route.query}):this.$router.push({name:"section"})},change:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.reload(),t.$root.$emit("recalcSlider")},500)}}},C=Object(f.a)(S,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"filter"},[r("h2",[t._v("Фильтр")]),t._v(" "),r("button",{staticClass:"filter__f-toggle button black hidden-desktop",attrs:{type:"button"},on:{click:function(e){t.showFilter=!t.showFilter}}},[t._v("\n        "+t._s(t.showFilter?"Скрыть фильтры":"Показать фильтры")+"\n    ")]),t._v(" "),r("b-collapse",{staticClass:"filter__collapse",attrs:{id:"collapse-filter"},model:{value:t.showFilter,callback:function(e){t.showFilter=e},expression:"showFilter"}},[r("div",[r("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-categories",expression:"'collapse-categories'"}],staticClass:"filter__heading",attrs:{type:"button"}},[t._v("Категории")]),t._v(" "),r("b-collapse",{attrs:{id:"collapse-categories",visible:""}},[r("ul",{staticClass:"filter__categories"},t._l(t.sections,function(section){return r("li",{key:section.CODE},[r("nuxt-link",{attrs:{to:{name:"section",params:{section:section.CODE}}}},[t._v(t._s(section.NAME))])],1)}),0)])],1),t._v(" "),t._l(t.items,function(e,l){return[e.price&&e.values.min!==e.values.max?r("div",{key:e.CODE,staticClass:"filter__slider"},[r("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+l,expression:"'collapse-'+itemIndex"}],staticClass:"filter__heading",attrs:{type:"button"}},[t._v("Цена")]),t._v(" "),r("b-collapse",{attrs:{id:"collapse-"+l}},[r("vue-slider",{attrs:{min:e.values.min,max:e.values.max,dotSize:15,height:1,tooltip:"none",contained:"true"},on:{change:function(e){return t.change()}},model:{value:e.values.array,callback:function(r){t.$set(e.values,"array",r)},expression:"item.values.array"}}),t._v(" "),r("p",[t._v("от "+t._s(t.minPrice)+" до "+t._s(t.maxPrice))])],1)],1):t._e()]}),t._v(" "),t._l(t.items,function(e,l){return[!e.price&&e.values?r("div",{key:e.CODE},[r("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+l,expression:"'collapse-'+itemIndex"}],staticClass:"filter__heading",attrs:{type:"button"}},[t._v(t._s(e.name))]),t._v(" "),r("b-collapse",{attrs:{id:"collapse-"+l}},["F"===e.display_type?r("ul",{staticClass:"filter__square"},t._l(e.values,function(e,l){return r("li",{key:l},[r("label",{class:{active:e.checked,disabled:e.disabled,color:e.image}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"value.checked"}],attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{click:function(e){return t.change()},change:function(r){var l=e.checked,n=r.target,o=!!n.checked;if(Array.isArray(l)){var c=t._i(l,null);n.checked?c<0&&t.$set(e,"checked",l.concat([null])):c>-1&&t.$set(e,"checked",l.slice(0,c).concat(l.slice(c+1)))}else t.$set(e,"checked",o)}}}),t._v(" "),e.image?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"value.image"}],attrs:{alt:"",title:e.name}}):t._e(),t._v(" "),e.image?t._e():r("span",[t._v(t._s(e.name))])])])}),0):t._e()])],1):t._e()]})],2),t._v(" "),r("clear-filter",{staticClass:"filter__reset button"})],1)},[],!1,null,null,null).exports,y=r(352),w={data:function(){return{listOpened:!1}},computed:{currentSort:function(){var t=this.$route.query,e="",r="";return"rating"==t.sortName?(r="rating",e="По популярности"):"price"==t.sortName?(r="price",e="По цене"):(r="name",e="По названию"),{name:r,order:null==t.sortOrder?"asc":t.sortOrder,description:e}}}},O=Object(f.a)(w,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort-by"},[r("div",{staticClass:"sort-by__desktop hidden-mobile"},["asc"==t.currentSort.order?r("nuxt-link",{staticClass:"sort-by__btn asc",class:{active:"name"==t.currentSort.name&&"asc"==t.currentSort.order},attrs:{to:{query:{sortName:"name",sortOrder:"desc"}}}},[t._v("По названию")]):r("nuxt-link",{staticClass:"sort-by__btn desc",class:{active:"name"==t.currentSort.name&&"desc"==t.currentSort.order},attrs:{to:{query:{sortName:"name",sortOrder:"asc"}}}},[t._v("По названию")]),t._v(" "),"asc"==t.currentSort.order?r("nuxt-link",{staticClass:"sort-by__btn asc",class:{active:"rating"==t.currentSort.name&&"asc"==t.currentSort.order},attrs:{to:{query:{sortName:"rating",sortOrder:"desc"}}}},[t._v("По популярности")]):r("nuxt-link",{staticClass:"sort-by__btn desc",class:{active:"rating"==t.currentSort.name&&"desc"==t.currentSort.order},attrs:{to:{query:{sortName:"rating",sortOrder:"asc"}}}},[t._v("По популярности")]),t._v(" "),"asc"==t.currentSort.order?r("nuxt-link",{staticClass:"sort-by__btn asc",class:{active:"price"==t.currentSort.name&&"asc"==t.currentSort.order},attrs:{to:{query:{sortName:"price",sortOrder:"desc"}}}},[t._v("По цене")]):r("nuxt-link",{staticClass:"sort-by__btn desc",class:{active:"price"==t.currentSort.name&&"desc"==t.currentSort.order},attrs:{to:{query:{sortName:"price",sortOrder:"asc"}}}},[t._v("По цене")])],1),t._v(" "),r("div",{staticClass:"sort-by__mobile hidden-desktop"},[r("button",{staticClass:"sort-by__toggle",class:{active:t.listOpened},on:{click:function(e){t.listOpened=!t.listOpened}}},[r("a",{staticClass:"sort-by__option",class:{asc:"asc"==t.currentSort.order,desc:"desc"==t.currentSort.order}},[r("span",[t._v(t._s(t.currentSort.description))])])]),t._v(" "),r("ul",{staticClass:"sort-by__list",class:{active:t.listOpened}},[r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option asc",attrs:{to:{query:{sortName:"name",sortOrder:"asc"}}}},[r("span",[t._v("По названию")])])],1),t._v(" "),r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option desc",attrs:{to:{query:{sortName:"name",sortOrder:"desc"}}}},[r("span",[t._v("По названию")])])],1),t._v(" "),r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option asc",attrs:{to:{query:{sortName:"rating",sortOrder:"asc"}}}},[r("span",[t._v("По популярности")])])],1),t._v(" "),r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option desc",attrs:{to:{query:{sortName:"rating",sortOrder:"desc"}}}},[r("span",[t._v("По популярности")])])],1),t._v(" "),r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option asc",attrs:{to:{query:{sortName:"price",sortOrder:"asc"}}}},[r("span",[t._v("По цене")])])],1),t._v(" "),r("li",{on:{click:function(e){t.listOpened=!1}}},[r("nuxt-link",{staticClass:"sort-by__option desc",attrs:{to:{query:{sortName:"price",sortOrder:"desc"}}}},[r("span",[t._v("По цене")])])],1)])])])},[],!1,null,null,null).exports,E=(r(15),{props:{sWrapper:{type:String,required:!0},sScroll:{type:String,required:!0},offset:{type:Object,default:function(){return{top:0,bottom:30}}}},data:function(){return{frameId:null,affixHeight:null,affixRect:null,affixInitialTop:null,relativeElmOffsetTop:null,topPadding:null,lastState:null,currentState:null,currentScrollAffix:null,topOfScreen:null,lastDistanceFromTop:null,scrollingUp:null,scrollingDown:null,enabled:!0,scrollAffix:!0,scrollElem:null}},mounted:function(){if(this.scrollElem=document.querySelector(this.sScroll),this.scrollElem.classList.add("vue-affix"),this.affixInitialTop=this.getOffsetTop(this.scrollElem),this.topPadding=0,this.updateData(),this.scrollAffix){var t=this.affixHeight+this.offset.bottom+this.offset.top;this.scrollAffix&&t>this.scrollContainer.innerHeight&&this.initScrollAffix()}this.onScroll(),this.scrollContainer.addEventListener("scroll",this.handleScroll),this.$root.$on("recalcSlider",this.recalculateStickyScroll)},beforeDestroy:function(){this.scrollContainer.removeEventListener("scroll",this.handleScroll)},watch:{offset:function(t,e){t.top===e.top&&t.bottom===e.bottom||this.onScroll()}},computed:{relativeElement:function(){return document.querySelector(this.sWrapper)},scrollContainer:function(){return this.scrollContainerSelector?document.querySelector(this.scrollContainerSelector):window},affixTopPos:function(){return this.affixRect.top+this.topOfScreen-this.offset.top-this.topPadding},affixBottomPos:function(){return this.affixRect.bottom+this.topOfScreen+this.offset.bottom},bottomOfScreen:function(){return this.topOfScreen+this.scrollContainer.innerHeight},relativeElmTopPos:function(){return this.topOfScreen+this.relativeElement.getBoundingClientRect().top},relativeElmBottomPos:function(){return this.topOfScreen+this.relativeElement.getBoundingClientRect().bottom},screenIsPastAffix:function(){return this.bottomOfScreen>=this.affixBottomPos},screenIsBeforeAffix:function(){return this.topOfScreen<=this.affixTopPos},screenIsBeforeRelativeElm:function(){return this.topOfScreen<=this.relativeElmTopPos-this.offset.top},screenIsPastRelativeElm:function(){return this.bottomOfScreen>=this.relativeElmBottomPos+this.offset.bottom},screenIsInsideRelativeElm:function(){return!this.screenIsBeforeRelativeElm&&!this.screenIsPastRelativeElm}},methods:{recalculateStickyScroll:function(){var t=this;setTimeout(function(){if(t.scrollElem=document.querySelector(t.sScroll),t.scrollElem.classList.add("vue-affix"),t.affixInitialTop=t.getOffsetTop(t.relativeElement),t.topPadding=0,t.updateData(),t.scrollAffix){var e=t.affixHeight+t.offset.bottom+t.offset.top;t.scrollAffix&&e>t.scrollContainer.innerHeight&&t.initScrollAffix()}},200)},updateData:function(){this.topOfScreen=this.scrollContainer.scrollTop||window.pageYOffset,this.affixRect=this.scrollElem.getBoundingClientRect(),this.affixHeight=this.scrollElem.offsetHeight,this.relativeElmOffsetTop=this.getOffsetTop(this.relativeElement)},handleScroll:function(){var t=this;this.frameId||(this.frameId=window.requestAnimationFrame(function(){t.onScroll(),t.frameId=null}))},onScroll:function(){if(this.enabled)if(this.updateData(),this.affixHeight+this.offset.top>=this.relativeElement.offsetHeight)this.scrollAffix&&"scrollaffix-top"!==this.currentScrollAffix?this.setScrollAffixTop():"affix-top"!==this.currentState&&this.setAffixTop();else{var t=this.affixHeight+this.offset.bottom+this.offset.top;this.scrollAffix&&t>this.scrollContainer.innerHeight?this.handleScrollAffix():this.handleAffix()}else this.removeClasses()},handleAffix:function(){this.topOfScreen<this.relativeElmOffsetTop-this.offset.top&&this.setAffixTop(),this.topOfScreen>=this.relativeElmOffsetTop-this.offset.top&&this.relativeElmBottomPos-this.offset.bottom>=this.topOfScreen+this.topPadding+this.affixHeight+this.offset.top&&this.setAffix(),this.relativeElmBottomPos-this.offset.bottom<this.topOfScreen+this.topPadding+this.affixHeight+this.offset.top&&this.setAffixBottom(),this.lastState=this.currentState},handleScrollAffix:function(){if(this.setScrollingDirection(),this.screenIsBeforeRelativeElm)this.setScrollAffixTop();else if(this.screenIsPastRelativeElm)this.setScrollAffixBottom();else if(this.screenIsInsideRelativeElm){var t="scrollaffix-top"===this.currentScrollAffix||"scrollaffix-bottom"===this.currentScrollAffix||"scrollaffix-up"===this.currentScrollAffix&&this.scrollingDown||"scrollaffix-down"===this.currentScrollAffix&&this.scrollingUp;this.screenIsBeforeAffix&&this.scrollingUp?this.setScrollAffixUp():this.screenIsPastAffix&&this.scrollingDown?this.setScrollAffixDown():t&&this.setScrollAffixScrolling()}this.lastScrollAffixState=this.currentScrollAffix,this.lastDistanceFromTop=this.topOfScreen},initScrollAffix:function(){this.bottomOfScreen<this.affixBottomPos?this.setScrollAffixTop():this.screenIsInsideRelativeElm?this.setScrollAffixDown():this.screenIsPastRelativeElm?this.setScrollAffixBottom():this.setScrollAffixScrolling()},setScrollAffixScrolling:function(){this.currentScrollAffix="scrollaffix-scrolling",this.scrollElem.style.top="".concat(Math.floor(this.affixRect.top)+this.topOfScreen-this.affixInitialTop,"px"),this.scrollElem.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixUp:function(){this.currentScrollAffix="scrollaffix-up",this.currentScrollAffix!==this.lastScrollAffixState&&(this.scrollElem.style.top="".concat(this.topPadding+this.offset.top,"px"),this.scrollElem.style.bottom="auto",this.removeClasses(),this.emitEvent(),this.scrollElem.classList.add("affix"))},setScrollAffixDown:function(){this.currentScrollAffix="scrollaffix-down",this.currentScrollAffix!==this.lastScrollAffixState&&(this.scrollElem.style.bottom="".concat(this.offset.bottom,"px"),this.scrollElem.style.top="auto",this.removeClasses(),this.emitEvent(),this.scrollElem.classList.add("affix"))},setScrollAffixTop:function(){this.currentScrollAffix="scrollaffix-top",this.scrollElem.style.top=0,this.scrollElem.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixBottom:function(){this.currentScrollAffix="scrollaffix-bottom",this.scrollElem.style.top="".concat(this.relativeElmBottomPos-this.affixInitialTop-this.affixHeight,"px"),this.scrollElem.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollingDirection:function(){this.topOfScreen>this.lastDistanceFromTop?(this.scrollingDown=!0,this.scrollingUp=!1):(this.scrollingUp=!0,this.scrollingDown=!1)},setAffixTop:function(){this.currentState="affix-top",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.scrollElem.classList.remove("affix"),this.scrollElem.classList.add("affix-top"),this.scrollElem.style.top=null)},setAffix:function(){this.currentState="affix",this.scrollElem.style.top="".concat(this.topPadding+this.offset.top,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.scrollElem.classList.add("affix"))},setAffixBottom:function(){this.currentState="affix-bottom",this.scrollElem.style.top="".concat(this.relativeElement.offsetHeight-this.affixHeight-this.offset.bottom-this.topPadding,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.scrollElem.classList.add("affix-bottom"))},removeClasses:function(){this.scrollElem.classList.remove("affix-top"),this.scrollElem.classList.remove("affix"),this.scrollElem.classList.remove("affix-bottom")},emitEvent:function(){this.scrollAffix&&this.lastScrollAffixState&&this.currentScrollAffix!==this.lastScrollAffixState&&this.$emit(this.currentScrollAffix.replace("-","")),this.lastState&&this.$emit(this.currentState.replace("-",""))},getOffsetTop:function(element){for(var t=0,e=element;e;)t+=e.offsetTop,e=e.offsetParent;return t}}}),k=(r(363),Object(f.a)(E,function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},[],!1,null,null,null).exports),A=r(323),I=r(322),$={transition:"fade",mixins:[o.a],data:function(){return{paginationClasses:{ul:"pagination",li:"pagination__li",liActive:"active",liDisable:"disabled",button:"pagination__btn"},customLabels:{first:"First",prev:"Previous",next:"Next",last:"Last"},title_section:""}},components:{StickyScroll:k,SectionElements:y.a,SmartFilter:C,ClearFilter:_,SortBy:O,Pagination:A.a,Tags:h,ItemSlider:I.a},computed:Object(n.a)({},Object(x.b)({wideItem:"catalog/getView"})),methods:{changeView:function(t){this.$store.commit("catalog/setView",t),this.$root.$emit("recalcSlider")},onChangePagen:function(){this.$router.push({name:this.$route.name,params:{tag:this.$route.params.tag,filter:this.$route.params.filter,pagen:this.pagen},query:this.$route.query})},onLoadItems:function(){var t=this,e=[];this.loadPage<this.result.section.pagen.count&&this.loadPage++,this.$store.dispatch("catalog/LOAD_SECTION",{pagen:this.loadPage,params:this.$route.params,query:this.$route.query}).then(function(r){if(Array.isArray(t.result.section.items))e=t.result.section.items;else for(var l in t.result.section.items)e.push(t.result.section.items[l]);for(var n in r.result.section.items)e.push(r.result.section.items[n]);t.result.section.items=e})}},watch:{$route:function(t,e){var r=this;this.$store.dispatch("catalog/LOAD_SECTION",{params:t.params,query:t.query}).then(function(t){t.hasOwnProperty("error")&&r.$nuxt.error({statusCode:t.statusCode,message:t.error.message}),r.result=t.result,r.pagen=t.pagen})}},asyncData:function(){var t=Object(l.a)(regeneratorRuntime.mark(function t(e){var r,l,n,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,l=e.error,n=e.params,o=e.query,t.next=3,r.dispatch("catalog/LOAD_SECTION",{params:n,query:o});case 3:return(c=t.sent).hasOwnProperty("error")&&l({statusCode:c.statusCode,message:c.error.message}),t.abrupt("return",{result:c.result,pagen:c.pagen,loadPage:c.pagen});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),validate:function(t){var e=t.params;return!e.pagen||/^\d+$/.test(e.pagen)},head:function(){return{title:this.result.seometa.title,meta:[{hid:"description",name:"description",content:this.result.seometa.description}]}}},P=Object(f.a)($,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"content-header"},[r("div",{staticClass:"main-container"},[r("h2",[t._v(" "+t._s(t.result.seometa.headline))]),t._v(" "),r("ul",{staticClass:"breadcrumbs"},t._l(t.result.seometa.bredcrumbs,function(e,l){return r("li",{key:l},[r("nuxt-link",{attrs:{to:e.LINK.LINK}},[t._v(t._s(e.TITLE))])],1)}),0)])]),t._v(" "),r("sticky-scroll",{attrs:{sWrapper:".catalog",sScroll:".filter"}},[r("div",{staticClass:"catalog catalog main-container"},[r("div",{staticClass:"catalog__col-1"},[r("smart-filter",{attrs:{items:t.result.filter.items}})],1),t._v(" "),r("div",{staticClass:"catalog__col-2"},[r("div",{staticClass:"catalog__top"},[r("p",{staticClass:"catalog__items-found hidden-desktop"},[t._v("Найдено "+t._s(t.result.filter.count_items)+" "+t._s(t.wording(t.result.filter.count_items)))]),t._v(" "),r("sort-by",{staticClass:"catalog__sort"}),t._v(" "),r("div",{staticClass:"catalog__view item-view"},[r("button",{staticClass:"item-view__narrow",class:{active:!t.wideItem},on:{click:function(e){return t.changeView(!1)}}},[t._v("narrow")]),t._v(" "),r("button",{staticClass:"item-view__wide",class:{active:t.wideItem},on:{click:function(e){return t.changeView(!0)}}},[t._v("wide")])])],1),t._v(" "),r("tags",{attrs:{tags:t.result.tags}}),t._v(" "),r("section-elements",{staticClass:"catalog__items",class:{"catalog__items--wide":t.wideItem},attrs:{items:t.result.section.items,wideItem:t.wideItem}}),t._v(" "),r("pagination",{attrs:{"page-count":t.result.section.pagen.count,classes:t.paginationClasses,labels:t.customLabels},on:{change:t.onChangePagen},model:{value:t.pagen,callback:function(e){t.pagen=e},expression:"pagen"}}),t._v(" "),t.loadPage<t.result.section.pagen.count?r("button",{staticClass:"catalog__ajax-pagen button black hidden-desktop",attrs:{type:"button"},on:{click:function(e){return t.onLoadItems()}}},[t._v("Показать еще")]):t._e(),t._v(" "),r("clear-filter",{staticClass:"catalog__reset-filter button hidden-desktop"}),t._v(" "),r("item-slider")],1)])])],1)},[],!1,null,null,null);e.default=P.exports}}]);